{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"GOV.UK Content AI Agents","text":"<p>Welcome to the documentation for the Multi-Agent Content Review System.</p>"},{"location":"#overview","title":"Overview","text":"<p>This system uses a team of specialized AI agents to review and improve content against GOV.UK standards.</p>"},{"location":"#agents-stage-2","title":"Agents (Stage 2)","text":"<ul> <li>Content Reviewer: Checks structure, clarity, and user need focus.</li> <li>Style Compliance: Enforces GOV.UK specific style guide rules (passive voice, sentence length).</li> <li>Consistency: Uses Vector Search to ensure new content doesn't contradict or duplicate existing content.</li> <li>Improvement: Automatically rewrites content based on feedback from other agents.</li> <li>Quality Judge: The final decision maker that scores content (0-100) and approves/rejects it.</li> </ul>"},{"location":"#user-guide","title":"User Guide","text":""},{"location":"#using-the-interface","title":"Using the Interface","text":"<p>The system provides a Streamlit dashboard for easy interaction.</p> <ol> <li>Launch: <code>uv run streamlit run src/govuk_content_agents/ui/app.py</code></li> <li>Input Methods:<ul> <li>Text: Paste raw draft content.</li> <li>URL: Enter a web page URL (e.g., existing content to review). The system will scrape and clean the text.</li> <li>GOV.UK API: Enter a path (e.g., <code>/vat-rates</code>). The system will query the GOV.UK Content API, automatically handling standard pages and multi-part guides.</li> </ul> </li> <li>Generate: Use the \"Content Architect\" (Create) page to build new drafts from official templates.</li> <li>Review: Watch the agents analyze and rewrite the content.<ul> <li>Note: The Silo Breaker automatically checks for contradictions against HMRC/DWP policies during this step.</li> </ul> </li> <li>Simulate: Use the \"Persona Lab\" page to see how an \"Anxious User\" or \"Non-Native Speaker\" interprets the content.</li> <li>Decision: Use the \"Review Queue\" page to Approve or Reject the final output.</li> </ol>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#overview","title":"Overview","text":"<p>The system is built as a modular multi-agent framework designed to process and improve content.</p>"},{"location":"architecture/#component-design","title":"Component Design","text":""},{"location":"architecture/#base-agent","title":"Base Agent","text":"<p>The <code>BaseAgent</code> (<code>src/govuk_content_agents/agents/base.py</code>) is the foundation for all specialized agents. It handles:</p> <ul> <li>Multi-Provider Support:<ul> <li>OpenAI: Default. Uses <code>gpt-4.1-mini</code> (or other <code>gpt-*</code> models) for high-reliability execution.</li> <li>Google Gemini: Fallback. Uses <code>gemini-2.0-flash</code> with built-in retry logic to handle free-tier rate limits (<code>429</code> errors).</li> </ul> </li> <li>Abstraction: Provides a common <code>execute()</code> interface regardless of the underlying LLM.</li> <li>Response Parsing: Automatically parses JSON responses from the LLMs into structured objects.</li> </ul>"},{"location":"architecture/#content-reviewer-agent","title":"Content Reviewer Agent","text":"<p>The first implemented agent uses the <code>BaseAgent</code> to analyze content against specific GOV.UK style guidelines. *   Input: Raw text content. *   Output: Structured feedback with a score, summary, and list of issues (severity, description, suggestion).</p>"},{"location":"architecture/#additional-agents-stage-2","title":"Additional Agents (Stage 2)","text":"<ul> <li>Style Compliance Check: Regex and rule-based checks for GOV.UK style.</li> <li>Consistency Check: Semantic search against <code>postgres</code> vector database.</li> <li>Improvement Agent: LLM-based rewriter.</li> <li>Quality Judge: LLM-as-a-Judge for final scoring.</li> </ul>"},{"location":"architecture/#orchestration-stage-2","title":"Orchestration (Stage 2)","text":"<p>We use LangGraph to coordinate the agents in a feedback loop.</p> <pre><code>graph TD\n    Start[Draft Content] --&gt; Review[Content &amp; Style &amp; Consistency Review]\n    Review --&gt; Improve[Improvement Agent]\n    Improve --&gt; Judge{Quality Judge}\n    Judge -- Pass --&gt; End[Approved]\n    Judge -- Fail --&gt; Review\n</code></pre>"},{"location":"architecture/#data-storage","title":"Data Storage","text":"<ul> <li>MongoDB: Stores agent execution logs, review sessions, and raw feedback.</li> <li>PostgreSQL (pgvector): Stores content embeddings for semantic search and retrieval (RAG).</li> </ul>"},{"location":"setup/","title":"Setup Guide","text":""},{"location":"setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11+</li> <li>uv: High-performance Python package installer. Install guide.</li> <li>Docker: For running MongoDB and PostgreSQL databases.</li> </ul>"},{"location":"setup/#installation","title":"Installation","text":"<ol> <li> <p>Clone the repository:     <code>bash     git clone &lt;your-repo-url&gt;     cd ai-multi-agent</code></p> </li> <li> <p>Install dependencies:     <code>bash     uv sync</code></p> </li> </ol>"},{"location":"setup/#configuration","title":"Configuration","text":"<p>The application is configured using environment variables defined in <code>.env</code>.</p> <ol> <li> <p>Create .env file:     <code>bash     cp .env.example .env</code></p> </li> <li> <p>API Keys:</p> <ul> <li>Required: <code>OPENAI_API_KEY</code> for the default <code>gpt-4.1-mini</code> model.</li> <li>Optional: <code>GEMINI_API_KEY</code> if you wish to use Gemini models.</li> </ul> </li> <li> <p>Databases:     The default configuration connects to local Docker instances:</p> <ul> <li>MongoDB: <code>mongodb://admin:password@localhost:27018</code></li> <li>PostgreSQL: <code>postgresql://admin:password@localhost:5432/ai_agent_db</code></li> </ul> </li> </ol>"},{"location":"setup/#running-locally","title":"Running Locally","text":"<ol> <li> <p>Start Infrastructure:     <code>bash     docker-compose up -d</code></p> </li> <li> <p>Run Demo:     <code>bash     uv run python scripts/demo_stage_1.py</code></p> </li> </ol>"}]}