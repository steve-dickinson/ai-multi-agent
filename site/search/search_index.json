{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AI Multi-Agent Content System","text":"<p>Disclaimer: This is an experimental research project. It is not affiliated with GOV.UK.</p> <p>Automated content operations for digital services.</p> <p>This platform acts as an intelligent pair-programmer for content designers. It uses a team of specialised AI agents to ensure every piece of content is clear, consistent with policy, and accessible to all users.</p>"},{"location":"#why-use-this-system","title":"Why use this system?","text":"<ul> <li>Reduce specialised labour: Automate the routine checks (style guide, passive voice) so humans can focus on strategy.</li> <li>Prevent policy conflicts: The Silo Breaker agent catches contradictions across departments.</li> <li>Simulate user research: The Persona Lab tests your content against anxious or non-native users instantly.</li> </ul>"},{"location":"#the-agent-team","title":"The Agent Team","text":"<p>The system is powered by a graph of specialised agents:</p> <ol> <li>Content Reviewer: Checks structure and user needs.</li> <li>Style Compliance: Enforces style rules.</li> <li>Consistency: Checks for duplication against the vector database.</li> <li>Improver: Rewrites the content to fix issues.</li> <li>Judge: Scores the final output.</li> </ol> <p>Explore all Capabilities \u2192</p>"},{"location":"#user-guide","title":"User Guide","text":""},{"location":"#using-the-interface","title":"Using the Interface","text":"<p>The system provides a Streamlit dashboard for easy interaction.</p> <ol> <li>Launch: <code>uv run streamlit run src/govuk_content_agents/ui/app.py</code></li> <li>Input Methods: (Available on ALL pages)<ul> <li>Text: Paste raw draft content.</li> <li>URL: Enter a web page URL.</li> <li>GOV.UK API: Enter a path (e.g., <code>/vat-rates</code>).</li> </ul> </li> <li>Workflows:<ul> <li>Analyze: Use the dashboard to get a full report.</li> <li>Debate: Pit agents against each other to find the balance between simplicity and accuracy.</li> <li>Simulate: See your content through the eyes of an \"Anxious User\".</li> </ul> </li> </ol>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#overview","title":"Overview","text":"<p>The system is built as a modular multi-agent framework designed to process and improve content.</p>"},{"location":"architecture/#component-design","title":"Component Design","text":""},{"location":"architecture/#base-agent","title":"Base Agent","text":"<p>The <code>BaseAgent</code> (<code>src/govuk_content_agents/agents/base.py</code>) is the foundation for all specialized agents. It handles:</p> <ul> <li>Multi-Provider Support:<ul> <li>OpenAI: Default. Uses <code>gpt-4.1-mini</code> (or other <code>gpt-*</code> models) for high-reliability execution.</li> <li>Google Gemini: Fallback. Uses <code>gemini-2.0-flash</code> with built-in retry logic to handle free-tier rate limits (<code>429</code> errors).</li> </ul> </li> <li>Abstraction: Provides a common <code>execute()</code> interface regardless of the underlying LLM.</li> <li>Response Parsing: Automatically parses JSON responses from the LLMs into structured objects.</li> </ul>"},{"location":"architecture/#content-reviewer-agent","title":"Content Reviewer Agent","text":"<p>The first implemented agent uses the <code>BaseAgent</code> to analyze content against specific GOV.UK style guidelines. *   Input: Raw text content. *   Output: Structured feedback with a score, summary, and list of issues (severity, description, suggestion).</p>"},{"location":"architecture/#specialized-agents","title":"Specialized Agents","text":"<ul> <li>Style Compliance Check: Regex and rule-based checks for GOV.UK style.</li> <li>Consistency Check: Semantic search against <code>postgres</code> vector database.</li> <li>Improvement Agent: LLM-based rewriter.</li> <li>Quality Judge: LLM-as-a-Judge for final scoring.</li> </ul>"},{"location":"architecture/#orchestration","title":"Orchestration","text":"<p>We use LangGraph to coordinate the agents in a feedback loop.</p> <pre><code>graph TD\n    Start[Draft Content] --&gt; Review[Content &amp; Style &amp; Consistency Review]\n    Review --&gt; Improve[Improvement Agent]\n    Improve --&gt; Judge{Quality Judge}\n    Judge -- Pass --&gt; End[Approved]\n    Judge -- Fail --&gt; Review\n</code></pre>"},{"location":"architecture/#data-storage","title":"Data Storage","text":"<ul> <li>MongoDB: Stores agent execution logs, review sessions, and raw feedback.</li> <li>PostgreSQL (pgvector): Stores content embeddings for semantic search and retrieval (RAG).</li> </ul>"},{"location":"capabilities/","title":"Capabilities &amp; Advanced Features","text":"<p>This system goes beyond simple spell-checking. It employs a multi-agent architecture to simulate the entire content publishing workflow, from drafting to stress-testing.</p>"},{"location":"capabilities/#1-the-persona-lab","title":"1. The Persona Lab","text":"<p>\"Don't just write for users\u2014simulate them.\"</p> <p>Before you put content in front of a real user, test it in the Persona Lab. This feature simulates how different user archetypes interact with your content.</p>"},{"location":"capabilities/#available-personas","title":"Available Personas","text":"<ul> <li>The Anxious User: High stress, low patience. Misses details when overwhelmed.</li> <li>The Non-Native Speaker: struggles with idioms, complex clauses, and \"official\" tone.</li> <li>The Skimmer: Only reads headings and bold text. Fails if the answer is buried.</li> </ul> <p>How it works: The agent adopts the persona's system prompt and attempts to \"use\" the content. It reports back an Ease of Use Score (0-100) and specific \"Pain Points\" where it got stuck or confused.</p>"},{"location":"capabilities/#2-debate-mode-adversarial-review","title":"2. Debate Mode (Adversarial Review)","text":"<p>\"Iron sharpens iron.\"</p> <p>Content design often involves balancing competing interests: legal accuracy vs. user simplicity. Debate Mode automates this tension.</p>"},{"location":"capabilities/#the-simplifier","title":"The Simplifier","text":"<ul> <li>The Simplifier: Ruthlessly cuts jargon. Wants an 8th-grade reading level.</li> <li>The Legalist: Obsessed with precision. Fears liability. Wants every condition explicitly stated.</li> <li>The Mediator: Synthesises the two arguments into a final version that is \"as simple as possible, but no simpler.\"</li> </ul> <p>Value: This provides a balanced perspective that a single human editor might miss.</p>"},{"location":"capabilities/#3-silo-breaker-consistency-check","title":"3. Silo Breaker (Consistency Check)","text":"<p>\"One Organisation, One Voice.\"</p> <p>A common problem in large organisations is contradictory advice across departments.</p> <p>How it works: 1.  We store thousands of policy documents in a pgvector database. 2.  When you draft content, the Consistency Agent converts your text into vector embeddings. 3.  It performs a semantic search across the entire organisational knowledge base. 4.  CRITICAL ALERT: If your draft contradicts an existing policy, it is flagged as a High Severity issue.</p>"},{"location":"capabilities/#4-the-content-architect","title":"4. The Content Architect","text":"<p>\"Standardisation by default.\"</p> <p>Don't start from a blank page. The Content Architect uses proven patterns (Start Pages, Guides) to generate high-quality first drafts based on a simple user brief.</p> <ul> <li>Start Pages: Ensures the \"Before you start\" section is present.</li> <li>Detailed Guides: Enforces correct heading hierarchy.</li> <li>Answers: optimized for featured snippets (bold direct answer first).</li> </ul>"},{"location":"capabilities/#5-visual-analytics","title":"5. Visual Analytics","text":"<p>\"See the invisible.\"</p> <p>Text analysis tools often just give a score. Our Tone Heatmap visualizes the problem.</p> <ul> <li>Red: Passive Voice (\"It was decided...\").</li> <li>Blue: Complex Words (\"Utilize\", \"Facilitate\").</li> <li>Yellow: Sentences over 25 words.</li> </ul> <p>This allows editors to scan a document in seconds and identify problem areas without reading every word.</p>"},{"location":"setup/","title":"Setup Guide","text":""},{"location":"setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11+</li> <li>uv: High-performance Python package installer. Install guide.</li> <li>Docker: For running MongoDB and PostgreSQL databases.</li> </ul>"},{"location":"setup/#installation","title":"Installation","text":"<ol> <li> <p>Clone the repository:     <code>bash     git clone &lt;your-repo-url&gt;     cd ai-multi-agent</code></p> </li> <li> <p>Install dependencies:     <code>bash     uv sync</code></p> </li> </ol>"},{"location":"setup/#configuration","title":"Configuration","text":"<p>The application is configured using environment variables defined in <code>.env</code>.</p> <ol> <li> <p>Create .env file:     <code>bash     cp .env.example .env</code></p> </li> <li> <p>API Keys:</p> <ul> <li>Required: <code>OPENAI_API_KEY</code> for the default <code>gpt-4.1-mini</code> model.</li> <li>Optional: <code>GEMINI_API_KEY</code> if you wish to use Gemini models.</li> </ul> </li> <li> <p>Databases:     The default configuration connects to local Docker instances:</p> <ul> <li>MongoDB: <code>mongodb://admin:password@localhost:27018</code></li> <li>PostgreSQL: <code>postgresql://admin:password@localhost:5432/ai_agent_db</code></li> </ul> </li> </ol>"},{"location":"setup/#running-locally","title":"Running Locally","text":"<ol> <li> <p>Start Infrastructure:     <code>bash     docker-compose up -d</code></p> </li> <li> <p>Run the App:     <code>bash     uv run streamlit run src/govuk_content_agents/ui/app.py</code></p> </li> </ol>"}]}